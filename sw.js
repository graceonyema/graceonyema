const staticCacheName="site-static-v1",filesToCache=["/","/about","/services","/contact","/styles/index.min.css","/scripts/index.min.js","/favicon.ico"];self.addEventListener("install",t=>{t.waitUntil(async function(){const t=await caches.open(staticCacheName);await t.addAll(filesToCache)}())}),self.addEventListener("activate",t=>{t.waitUntil(async function(){const t=await caches.keys();await Promise.all(t.filter(t=>t.startsWith("site-static-")&&t!==staticCacheName).map(t=>{console.log("deleting old cache:",t),caches.delete(t)}))}())}),self.skipWaiting(),self.addEventListener("fetch",t=>{console.log("intercepting: ",t),t.respondWith(async function(){const e=await caches.open(staticCacheName),a=await e.match(t.request),i=fetch(t.request);return t.waitUntil(async function(){const a=await i;await e.put(t.request,a.clone())}()),a||i}())});